---
import EmailCapture from './EmailCapture.astro';

const year = new Date().getFullYear();
const path = Astro.url.pathname;
const hideEmailCapture = path.startsWith('/founding-explorer') || path.startsWith('/companion') || path.startsWith('/legal');
---
<footer class="site-footer" data-pagefind-ignore>
  <div class="container-content footer-inner">
    <div class="footer-grid">
      <!-- Brand -->
      <div class="footer-brand">
        <p class="footer-logo">
          Discover <span class="brand-accent">Vietnam</span>
        </p>
        <p class="footer-tagline">
          Honest travel guides by Scott Murray â€” real prices, local tips, and personal experience across Vietnam.
        </p>
        {!hideEmailCapture && <EmailCapture placement="footer" variant="compact" />}
      </div>

      <!-- Destinations -->
      <div>
        <p class="footer-heading">Destinations</p>
        <ul class="footer-links">
          <li><a href="/destinations/hanoi/">Hanoi</a></li>
          <li><a href="/destinations/ho-chi-minh-city/">Ho Chi Minh City</a></li>
          <li><a href="/destinations/da-nang/">Da Nang</a></li>
          <li><a href="/destinations/hoi-an/">Hoi An</a></li>
          <li><a href="/destinations/ha-long-bay/">Ha Long Bay</a></li>
          <li><a href="/destinations/phu-quoc/">Phu Quoc</a></li>
        </ul>
      </div>

      <!-- Explore & Legal -->
      <div>
        <p class="footer-heading">Explore</p>
        <ul class="footer-links">
          <li><a href="/about/">About Us</a></li>
          <li><a href="/plan/">AI Trip Planner</a></li>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/practical/">Practical Guide</a></li>
          <li><a href="/festivals/">Festivals</a></li>
          <li><a href="/cuisine/">Food & Cuisine</a></li>
          <li><a href="/history/">History & Heritage</a></li>
          <li><a href="/companion/">Trip Companion</a></li>
          <li><a href="/network/">Our Network</a></li>
        </ul>

        <p class="footer-heading footer-heading--legal">Legal</p>
        <ul class="footer-links">
          <li><a href="/legal/privacy/">Privacy Policy</a></li>
          <li><a href="/legal/terms/">Terms of Service</a></li>
          <li><a href="/legal/affiliate-disclosure/">Affiliate Disclosure</a></li>
        </ul>
      </div>
    </div>

    <!-- FTC Disclosure -->
    <div class="footer-ftc">
      <p>Some links on this site are affiliate links. We may earn a small commission if you book through them, at no extra cost to you. We only recommend places we've personally visited.</p>
    </div>

    <!-- Social Links -->
    <div class="footer-social">
      <a href="https://www.youtube.com/@DiscoverVietnam" target="_blank" rel="noopener" aria-label="YouTube">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M23.5 6.2a3 3 0 00-2.1-2.1C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.4.6A3 3 0 00.5 6.2 31.4 31.4 0 000 12a31.4 31.4 0 00.5 5.8 3 3 0 002.1 2.1c1.9.6 9.4.6 9.4.6s7.5 0 9.4-.6a3 3 0 002.1-2.1A31.4 31.4 0 0024 12a31.4 31.4 0 00-.5-5.8zM9.5 15.6V8.4l6.3 3.6-6.3 3.6z"/></svg>
      </a>
      <a href="https://www.facebook.com/DiscoverVietnamTravel" target="_blank" rel="noopener" aria-label="Facebook">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M24 12a12 12 0 10-13.9 11.9v-8.4H7.1V12h3V9.4c0-3 1.8-4.7 4.5-4.7 1.3 0 2.7.2 2.7.2v3h-1.5c-1.5 0-2 .9-2 1.9V12h3.3l-.5 3.5h-2.8v8.4A12 12 0 0024 12z"/></svg>
      </a>
      <a href="https://www.instagram.com/discover.vietnam" target="_blank" rel="noopener" aria-label="Instagram">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2.2c3.2 0 3.6 0 4.9.1 1.2.1 1.8.2 2.2.4.6.2 1 .5 1.4.9.4.4.7.8.9 1.4.2.4.4 1 .4 2.2.1 1.3.1 1.6.1 4.8s0 3.6-.1 4.9c-.1 1.2-.2 1.8-.4 2.2-.2.6-.5 1-.9 1.4-.4.4-.8.7-1.4.9-.4.2-1 .4-2.2.4-1.3.1-1.6.1-4.9.1s-3.6 0-4.9-.1c-1.2-.1-1.8-.2-2.2-.4a3.9 3.9 0 01-1.4-.9 3.9 3.9 0 01-.9-1.4c-.2-.4-.4-1-.4-2.2C2.2 15.6 2.2 15.2 2.2 12s0-3.6.1-4.9c.1-1.2.2-1.8.4-2.2.2-.6.5-1 .9-1.4.4-.4.8-.7 1.4-.9.4-.2 1-.4 2.2-.4C8.4 2.2 8.8 2.2 12 2.2zM12 0C8.7 0 8.3 0 7 .1 5.7.1 4.8.3 4 .6a5.8 5.8 0 00-2.1 1.3A5.8 5.8 0 00.6 4C.3 4.8.1 5.7.1 7 0 8.3 0 8.7 0 12s0 3.7.1 5c0 1.3.2 2.2.5 3a5.8 5.8 0 001.3 2.1A5.8 5.8 0 004 23.4c.8.3 1.7.5 3 .5 1.3.1 1.7.1 5 .1s3.7 0 5-.1c1.3 0 2.2-.2 3-.5a5.8 5.8 0 002.1-1.3 5.8 5.8 0 001.3-2.1c.3-.8.5-1.7.5-3 .1-1.3.1-1.7.1-5s0-3.7-.1-5c0-1.3-.2-2.2-.5-3a5.8 5.8 0 00-1.3-2.1A5.8 5.8 0 0020 .6c-.8-.3-1.7-.5-3-.5C15.7 0 15.3 0 12 0zm0 5.8a6.2 6.2 0 100 12.4 6.2 6.2 0 000-12.4zM12 16a4 4 0 110-8 4 4 0 010 8zm6.4-11.5a1.4 1.4 0 100 2.9 1.4 1.4 0 000-2.9z"/></svg>
      </a>
      <a href="#" data-platform="tiktok" target="_blank" rel="noopener" aria-label="TikTok (Coming Soon)">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M19.3 6.5a4.8 4.8 0 01-3.3-1.3A4.8 4.8 0 0115 2h-3.5v13.5a2.9 2.9 0 01-2.9 2.7 2.9 2.9 0 01-2.9-2.9 2.9 2.9 0 012.9-2.9c.3 0 .6 0 .9.1V9a6.4 6.4 0 00-.9-.1 6.4 6.4 0 00-6.4 6.4A6.4 6.4 0 008.6 22a6.4 6.4 0 006.4-6.4V8.7a8.3 8.3 0 004.8 1.5V6.7c-.2 0-.3-.1-.5-.2z"/></svg>
      </a>
      <a href="#" data-platform="pinterest" target="_blank" rel="noopener" aria-label="Pinterest (Coming Soon)">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 0a12 12 0 00-4.4 23.2c-.1-.8-.2-2.2 0-3.1.2-.8 1.4-5.8 1.4-5.8s-.4-.7-.4-1.7c0-1.6.9-2.8 2.1-2.8 1 0 1.4.7 1.4 1.6 0 1-.6 2.4-.9 3.7-.3 1.1.5 2 1.5 2 1.8 0 3.2-1.9 3.2-4.7 0-2.5-1.8-4.2-4.3-4.2a4.7 4.7 0 00-5 4.7c0 .9.4 1.9.8 2.4.1.1.1.2.1.3l-.3 1.2c0 .2-.2.2-.3.1-1.3-.6-2.1-2.5-2.1-4 0-3.3 2.4-6.3 6.8-6.3 3.6 0 6.3 2.6 6.3 5.9 0 3.5-2.2 6.4-5.3 6.4-1 0-2-.5-2.4-1.2l-.6 2.4c-.2.9-.8 2-1.2 2.7A12 12 0 1012 0z"/></svg>
      </a>
    </div>

    <!-- Bottom bar -->
    <div class="footer-bottom">
      <p>&copy; {year} Discover Vietnam. All rights reserved.</p>
      <p>Made with care by Scott Murray from San Diego, CA</p>
    </div>
  </div>
</footer>

<style>
  .site-footer {
    background-color: var(--color-deep-night);
    color: rgba(255, 255, 255, 0.7);
  }

  .footer-inner {
    padding-block: var(--space-12);
  }

  .footer-grid {
    display: grid;
    gap: var(--space-8);
  }

  @media (min-width: 768px) {
    .footer-grid {
      grid-template-columns: 1.5fr 1fr 1fr;
    }
  }

  .footer-brand {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .footer-logo {
    font-size: 1.125rem;
    font-weight: var(--weight-extrabold);
    color: white;
  }

  .brand-accent {
    color: var(--color-ocean-teal);
  }

  .footer-tagline {
    font-size: var(--text-caption);
    max-width: 30ch;
  }

  .footer-heading {
    font-size: var(--text-caption);
    font-weight: var(--weight-semibold);
    color: white;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: var(--space-3);
  }

  .footer-heading--legal {
    margin-top: var(--space-6);
  }

  .footer-links {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .footer-links a {
    font-size: var(--text-caption);
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .footer-links a:hover {
    color: white;
  }

  .footer-ftc {
    margin-top: var(--space-10);
    padding-top: var(--space-6);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  .footer-ftc p {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.4);
    max-width: 80ch;
  }

  .footer-social {
    display: flex;
    justify-content: center;
    gap: var(--space-5);
    margin-top: var(--space-8);
    padding-top: var(--space-6);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  .footer-social a {
    color: rgba(255, 255, 255, 0.5);
    transition: color 0.2s ease, transform 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 44px;
    min-width: 44px;
  }

  .footer-social a:hover {
    color: white;
    transform: translateY(-2px);
  }

  .footer-social a[data-platform] {
    opacity: 0.4;
    cursor: default;
  }

  .footer-bottom {
    margin-top: var(--space-6);
    padding-top: var(--space-6);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    font-size: 12px;
  }

  @media (min-width: 768px) {
    .footer-bottom {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
    }
  }
</style>
